<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, minimal-ui, viewport-fit=cover">
    <meta name="theme-color" content="#2196f3">
    <meta name="author" content="DexignZone" />
    <meta name="keywords" content="" />
    <meta name="robots" content="" />
    <meta name="description" content="Dtrans Staff" />
    <meta property="og:title" content="Dtrans Staff" />
    <meta property="og:description" content="Dtrans Staff" />
    <!-- <meta property="og:image" content="../../makaanlelo.com/tf_products_007/DTrans/xhtml/social-image.html"/> -->
    <meta name="format-detection" content="telephone=no">

    <!-- Favicons Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />

    <!-- Title -->
    <title>Dtrans Staff</title>

    <!-- PWA Version -->
    <!-- <link rel="manifest" href="manifest.json"> -->

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-touchspin/4.7.3/jquery.bootstrap-touchspin.css" integrity="sha512-+PhlZq9mahHJ3x/mMfjHtxQOwMsjL+K+zgOWTY5Bc2k+CZIHosgRMJPJNmLtLMHLQaOTPLgS9SmlXjU8Q0wZUw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/vendor/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&amp;family=Roboto+Slab:wght@100;300;500;600;800&amp;display=swap"
        rel="stylesheet">

</head>

<body class="bg-white">
    <div class="page-wraper" id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script src="/js/jquery.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/vendor/swiper/swiper-bundle.min.js"></script><!-- Swiper -->
    <script src="/js/dz.carousel.js"></script><!-- Swiper -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-touchspin/4.7.3/jquery.bootstrap-touchspin.min.js" integrity="sha512-uztszeSSfG543xhjG/I7PPljUKKbcRnVcP+dz9hghb9fI/AonpYMErdJQtLDrqd9M+STTHnTh49h1Yzyp//d6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- <script src="/js/settings.js"></script> -->
    <!-- <script src="/js/custom.js"></script> -->
    <!-- <script src="index.js" defer></script> -->
    <script>
        var DTrans = function () {

            /* Search Bar ============ */
            var screenWidth = $(window).width();
            var screenHeight = $(window).height();

            // Preloader
            var handlePreloader = function () {
                setTimeout(function () {
                    jQuery('#preloader').fadeOut(300);
                }, 300);
            }

            // Menubar Toggler
            // var handleMenubar = function () {
                
            //     jQuery('.menu-toggler').on('click', function () {
            //         jQuery('.sidebar').toggleClass('show');
            //     });
            //     jQuery('.menu-toggler').on('click', function () {
            //         jQuery('.menu-toggler').toggleClass('show');
            //     });
            // }

            // Show Pass
            var handleShowPass = function () {
                jQuery('.show-pass').on('click', function () {
                    jQuery(this).toggleClass('active');
                    if (jQuery('#dz-password, .dz-password').attr('type') == 'password') {
                        jQuery('#dz-password, .dz-password').attr('type', 'text');
                    } else if (jQuery('#dz-password, .dz-password').attr('type') == 'text') {
                        jQuery('#dz-password, .dz-password').attr('type', 'password');
                    }
                });
            }

            // Sticky Header
            var handleIsFixed = function () {
                $(window).scroll(function () {
                    var scroll = $(window).scrollTop();
                    if (scroll >= 50) {
                        $(".main-bar").addClass("sticky-header");
                    } else {
                        $(".main-bar").removeClass("sticky-header");
                    }
                });
            }

            // Custom File Input
            var handleCustomFileInput = function () {
                $(".custom-file-input").on("change", function () {
                    var fileName = $(this).val().split("\\").pop();
                    $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
                });
            }

            // Default Select
            var handleSelectpicker = function () {
                if (jQuery('.default-select').length > 0) {
                    jQuery('.default-select').selectpicker();
                }
            }

            // Menubar Nav Active
            var handleMenubarNav = function () {
                $(".menubar-nav .nav-link").on("click", function () {
                    $(".menubar-nav .nav-link").removeClass("active");
                    $(this).addClass("active");
                });
            }

            // Message Sheet
            var handleMessageHandle = function () {
                $(".message-area .icon-popup").on("click", function () {
                    $(".message-icon").slideToggle('slow');
                });
                $(".messagebar-sheet-image").on("change", function () {
                    var iconsrc = $(this).attr('data-icon');

                    if ($(this).find('input[type="checkbox"]').is(':checked')) {
                        $(".append-media").append("<div class='emoji-icon' data-icon=" + iconsrc + "><img src=" + iconsrc + "></div>");
                    } else {
                        var mediaicon = $('.message-area .emoji-icon[data-icon="' + iconsrc + '"]');
                        mediaicon.remove();
                    }
                });

            }

            // Scroll Top
            var handleScrollTop = function () {

                jQuery(window).bind("scroll", function () {
                    var scroll = jQuery(window).scrollTop();
                    if (scroll > 100) {
                        jQuery(".btn.scrollTop").fadeIn(500);
                    } else {
                        jQuery(".btn.scrollTop").fadeOut(500);
                    }
                });
                /* page scroll top on click function end*/
            }

            // Chat button
            var handleChatBox = function () {
                $('.btn-chat').on('click', function () {

                    var chatInput = $('.message-area .form-control');
                    var chatMessageValue = chatInput.val();

                    var chatEmojiArea = $('.append-media').html();

                    var current = new Date();
                    var ampm = current.getHours() >= 12 ? 'pm' : 'am';
                    //alert(current.getMinutes());
                    var actualTime = (current.getHours() % 12 + ':' + current.getMinutes() + ' ' + ampm);

                    var messageEmojiHtml = '<div class="chat-content user">' +
                        '<div class="message-item">' +
                        '<div class="bubble">' + chatEmojiArea + '</div>' +
                        '<div class="message-time">' + actualTime + '</div>' +
                        '</div>' +
                        '</div>';

                    if (chatEmojiArea.length > 0) {
                        $('.chat-box-area').append(messageEmojiHtml);
                    }

                    var messageHtml = '<div class="chat-content user">' +
                        '<div class="message-item">' +
                        '<div class="bubble">' + chatMessageValue + '</div>' +
                        '<div class="message-time">' + actualTime + '</div>' +
                        '</div>' +
                        '</div>';

                    if (chatMessageValue.length > 0) {
                        var appendMessage = $('.chat-box-area').append(messageHtml);
                    }

                    window.scrollTo(0, document.body.scrollHeight);
                    var clearChatInput = chatInput.val('');
                    var clearChatInputE = $('.append-media').empty();
                });
            }

            // Page back btn
            var handleGoBack = function () {
                $('.back-btn').on('click', function () {
                    window.history.go(-1); return false
                })
            }

            // PWA Modal
            var handlePWAModal = function () {
                if (!window.matchMedia('(display-mode: standalone)').matches) {
                    setTimeout(function () {
                        jQuery('.pwa-offcanvas').addClass('show');
                        jQuery('.pwa-backdrop').addClass('fade show');
                    }, 3000);
                    jQuery('.pwa-backdrop, .pwa-close, .pwa-btn').on('click', function () {
                        jQuery('.pwa-offcanvas').slideUp(500, function () {
                            jQuery(this).removeClass('show');
                        });
                        setTimeout(function () {
                            jQuery('.pwa-backdrop').removeClass('show');
                        }, 500);
                    });
                }
            }

            // Recent Search
            var handleSearch = function () {
                $('.search-input .form-control').on('change paste keyup', function () {
                    if ($(this).val().length > 0) {
                        $('.search-input .btn-close').fadeIn(500);
                    } else {
                        $('.search-input .btn-close').fadeOut(500);
                    }
                })
                $('.search-input .btn-close').on('click', function () {
                    $('.search-input .form-control').val(null);
                    $(this).fadeOut(0);
                })
            }

            // Theme Version
            var handleThemeVersion = function () {
                jQuery('.theme-btn').on('click', function () {
                    jQuery('body').toggleClass('theme-dark');
                    jQuery('.theme-btn').toggleClass('active');
                });
            }

            // var handleRemoveClass = function () {
            //     jQuery('.nav-color').on('click', function () {
            //         jQuery('.sidebar, .menu-toggler').removeClass('show');
            //     });
            // }

            var handleToggleButton = function () {
                jQuery('.dz-treeview-item').on('click', function () {
                    jQuery(this).toggleClass('open');
                });
            }

            //Light Gallery ============ 
            var handleLightgallery = function () {
                if (jQuery('#lightgallery').length > 0) {
                    lightGallery(document.getElementById('lightgallery'), {
                        plugins: [lgZoom, lgThumbnail],
                    });
                }
            }

            //Tab Slide ============ 
            var handleTabSlide = function () {
                if (jQuery('.tab-slide-effect').length > 0) {
                    var a = $('.tab-slide-effect li.active').width();
                    var b = $('.tab-slide-effect li.active').position().left;
                    $('.tab-active-indicator').css({ 'width': a, 'transform': 'translateX(' + b + 'px)' });
                    $('.tab-slide-effect li').on('click', function () {
                        var tabItem = $(this).parent().find('li');
                        $(tabItem).removeClass('active');
                        $(this).addClass('active');
                        var x = $(this).width();
                        var y = $(this).position().left;
                        var indicator = $(this).parent().find('.tab-active-indicator');
                        $(indicator).css({ 'width': x, 'transform': 'translateX(' + y + 'px)' });
                    })
                }
            }

            var handleOtp = function () {
                if (jQuery('#otp').length > 0)
                    $('.digit-group').find('input').each(function () {
                        $(this).attr('maxlength', 1);
                        $(this).on('keyup', function (e) {
                            var thisVal = $(this).val();
                            var parent = $($(this).parent());

                            if (e.keyCode === 8 || e.keyCode === 37) {
                                var prev = parent.find('input#' + $(this).data('previous'));

                                if (prev.length) {
                                    $(prev).select();
                                }
                            } else {
                                var next = parent.find('input#' + $(this).data('next'));

                                if (!$.isNumeric(thisVal)) {
                                    $(this).val('');
                                    return false;
                                }

                                if (next.length) {
                                    $(next).select();
                                } else {
                                    if (parent.data('autosubmit')) {
                                        parent.submit();
                                    }
                                }
                            }
                        });
                    });
            }

            function getCodeBoxElement(index) {
                return document.getElementById('codeBox' + index);
            }
            function onKeyUpEvent(index, event) {
                const eventCode = event.which || event.keyCode;
                if (getCodeBoxElement(index).value.length === 1) {
                    if (index !== 4) {
                        getCodeBoxElement(index + 1).focus();
                    } else {
                        getCodeBoxElement(index).blur();
                        // Submit code
                        console.log('submit code ');
                    }
                }
                if (eventCode === 8 && index !== 1) {
                    getCodeBoxElement(index - 1).focus();
                }
            }
            function onFocusEvent(index) {
                for (item = 1; item < index; item++) {
                    const currentElement = getCodeBoxElement(item);
                    if (!currentElement.value) {
                        currentElement.focus();
                        break;
                    }
                }
            }

            var handleActiveStar = function () {
                $('.item-bookmark').on('click', function () {
                    $(this).toggleClass('active');
                });
            }

            var handleSearch = function () {
                $("#myInput").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    $(".recent-jobs-list li").filter(function () {
                        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                    });
                    if ($(this).val().length > 0) {
                        $('.search-input .btn-close').fadeIn(500);
                    } else {
                        $('.search-input .btn-close').fadeOut(500);
                    }
                });

                $('.search-input .btn-close').on('click', function () {
                    $(".recent-jobs-list li").filter(function () {
                        $(this).toggle($(this).text().toLowerCase().indexOf('') > -1)
                    });
                    $('.search-input .form-control').val(null);
                    $(this).fadeOut(0);
                })
            }

            var handleImageSelect = function () {
                if (jQuery('.image-select').length > 0) {
                    const $_SELECT_PICKER = $('.image-select');
                    $_SELECT_PICKER.find('option').each((idx, elem) => {
                        const $OPTION = $(elem);
                        const IMAGE_URL = $OPTION.attr('data-thumbnail');
                        if (IMAGE_URL) {
                            $OPTION.attr('data-content', "<img src='%i'/> %s".replace(/%i/, IMAGE_URL).replace(/%s/, $OPTION.text()))
                        }
                    });
                    $_SELECT_PICKER.selectpicker();
                }
            }

            /* Function ============ */
            return {
                init: function () {
                    // handleMenubar();
                    handleToggleButton();
                    handleShowPass();
                    handleChatBox();
                    //handleMenubarNav();
                    handleIsFixed();
                    handleScrollTop();
                    handleLightgallery();
                    handleCustomFileInput();
                    handleMessageHandle();
                    handleGoBack();
                    handlePWAModal();
                    handleSearch();
                    //handleThemeVersion();
                    // handleRemoveClass();
                    handleActiveStar();
                    handleTabSlide();
                    handleImageSelect();
                    handleOtp();
                },

                load: function () {
                    handlePreloader();
                    handleSelectpicker();
                },

                resize: function () {
                    screenWidth = $(window).width();
                },
            }

        }();

        /* Document.ready Start */
        jQuery(document).ready(function () {
            DTrans.init();
            $('[data-bs-toggle="popover"]').popover();
            $('.theme-dark .custom-switch input').prop('checked', true);

        });
        /* Document.ready END */

        /* Window Load START */
        jQuery(window).on('load', function () {
            DTrans.load();
            setTimeout(function () {
                jQuery('#splashscreen').addClass('active');
                jQuery('#splashscreen').fadeOut(2000);
            }, 2000);

            $('.theme-dark .custom-switch input').prop('checked', true).addClass('active');


        });
        /*  Window Load END */

        /* Window Resize START */
        jQuery(window).on('resize', function () {

            DTrans.resize();

        });

        function menuToggler () {
            if(jQuery('.sidebar, .menu-toggler').hasClass('show')){
                jQuery('.sidebar, .menu-toggler').removeClass('show');
            }else{
                jQuery('.sidebar').toggleClass('show');
                jQuery('.menu-toggler').toggleClass('show');
            }   
        }

        
/*  Window Resize END */
    </script>
</body>

</html>